<!DOCTYPE html>
 <html lang="zh-cn">
     <%- include("./public/head.ejs")%>
     <body>
         <%- include("./public/header.ejs")%>
         <section class="main-floatfix">
             <%- include("./public/aside.ejs")%>
             <section class="main-articles">
                  <form method="post" action="" class="edit" onSubmit="save()">
                      <div class="form-group">
                         <label for="title">标题</label>
                          <input id="title" name="title" type="text" value="<%= title%>">
                      </div>
                      <div class="text-group">
                          <label for="content">内容</label>
                          <script id="editor" type="text/plain" style="width:910px;height:500px;margin-left:130px;margin-top:-20px"><%- content%></script>
                      </div>
                      <input name="info" type="hidden" id="info">
                      <p><input type="submit" value="保存" class="btn btn-primary"></p>
                 </form>
             </section>
         </section>
         <%- include("./public/footer.ejs")%>
         <script type="text/javascript">
        //实例化编辑器
        //建议使用工厂方法getEditor创建和引用编辑器实例，如果在某个闭包下引用该编辑器，直接调用UE.getEditor('editor')就能拿到相关的实例
        var ue = UE.getEditor('editor');

        function save() {
            //var title=document.getElementById('title').value;
            var content=UE.getEditor('editor').getContent();
            console.log(content);
            //var data={'title':title,'content':content};
            //var xhr=new XMLHttpRequest();
            //xhr.open('post','/edit');
            //xhr.send(JSON.stringify(data));
           
            document.getElementById('info').value=content;
            console.log(document.getElementById('info').value);
        }
         </script>
     </body>
</html>